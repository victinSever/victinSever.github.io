{
    "version": "https://jsonfeed.org/version/1",
    "title": "victinSever • All posts by \"canvas\" category",
    "description": "",
    "home_page_url": "http://victinSever.github.io",
    "items": [
        {
            "id": "http://victinsever.github.io/2022/10/25/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/canvas/%E7%BB%98%E5%88%B6%E6%97%B6%E9%92%9F/",
            "url": "http://victinsever.github.io/2022/10/25/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/canvas/%E7%BB%98%E5%88%B6%E6%97%B6%E9%92%9F/",
            "title": "canvas绘制时钟",
            "date_published": "2022-10-25T15:50:55.000Z",
            "content_html": "<h3 id=\"Canvas绘制时钟\"><a href=\"#Canvas绘制时钟\" class=\"headerlink\" title=\"Canvas绘制时钟\"></a>Canvas绘制时钟</h3><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">&quot;X-UA-Compatible&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;viewport&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Document<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.clock</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">400px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">height</span>: <span class=\"number\">400px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin</span>: <span class=\"number\">100px</span> auto;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">border-radius</span>: <span class=\"number\">20px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background-color</span>: skyblue;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">box-shadow</span>: <span class=\"number\">2px</span> <span class=\"number\">5px</span> <span class=\"number\">2px</span> <span class=\"built_in\">rgb</span>(<span class=\"number\">80</span>, <span class=\"number\">196</span>, <span class=\"number\">241</span>);</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">    </span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;clock&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">canvas</span> <span class=\"attr\">width</span>=<span class=\"string\">&quot;400px&quot;</span> <span class=\"attr\">height</span>=<span class=\"string\">&quot;400px&quot;</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;canvas&quot;</span>&gt;</span></span><br><span class=\"line\">            您的浏览器版本过低，不支持canvas功能</span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">canvas</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">let</span> canvas = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;canvas&#x27;</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">let</span> ctx = canvas.<span class=\"title function_\">getContext</span>(<span class=\"string\">&#x27;2d&#x27;</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">// 定义变量</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">let</span> w = h = <span class=\"number\">400</span> <span class=\"comment\">//宽高</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">let</span> x = y = <span class=\"number\">200</span> <span class=\"comment\">//圆心</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">let</span> r = <span class=\"number\">180</span> <span class=\"comment\">//半径</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">let</span> r_h = <span class=\"number\">60</span>, r_m = <span class=\"number\">120</span>, r_s = <span class=\"number\">140</span> <span class=\"comment\">//时分秒针长度</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">let</span> r_t = <span class=\"number\">140</span> <span class=\"comment\">//文字半径</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">let</span> r_squ = <span class=\"number\">165</span> <span class=\"comment\">//刻度半径</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">let</span> r_c = <span class=\"number\">10</span> <span class=\"comment\">//表盘圆点</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">let</span> deg = <span class=\"title class_\">Math</span>.<span class=\"property\">PI</span> * <span class=\"number\">2</span> <span class=\"comment\">//圆周</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">// 平移中心点</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        ctx.<span class=\"title function_\">translate</span>(w / <span class=\"number\">2</span>, h / <span class=\"number\">2</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"title function_\">clock</span>()</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"built_in\">setInterval</span>(<span class=\"function\">() =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"title function_\">clock</span>()</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;, <span class=\"number\">1000</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">function</span> <span class=\"title function_\">clock</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"comment\">// 画圆盘</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"title function_\">drawCircle</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>, r, <span class=\"string\">&#x27;#fff&#x27;</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"comment\">//画圆心</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"title function_\">drawCircle</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>, r_c, <span class=\"string\">&#x27;#000&#x27;</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"comment\">// 画指针</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">let</span> day = <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>()</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">let</span> hour = day.<span class=\"title function_\">getHours</span>() % <span class=\"number\">12</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">let</span> minute = day.<span class=\"title function_\">getMinutes</span>()</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">let</span> second = day.<span class=\"title function_\">getSeconds</span>()</span></span><br><span class=\"line\"><span class=\"language-javascript\">            hour = hour * deg / <span class=\"number\">12</span> - deg / <span class=\"number\">4</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            minute = minute * deg / <span class=\"number\">60</span> - deg / <span class=\"number\">4</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            second = second * deg / <span class=\"number\">60</span> - deg / <span class=\"number\">4</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"title function_\">drawLine</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>, r_h * <span class=\"title class_\">Math</span>.<span class=\"title function_\">cos</span>(hour), r_h * <span class=\"title class_\">Math</span>.<span class=\"title function_\">sin</span>(hour), <span class=\"string\">&#x27;#000&#x27;</span>, <span class=\"number\">10</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"title function_\">drawLine</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>, r_m * <span class=\"title class_\">Math</span>.<span class=\"title function_\">cos</span>(minute), r_m * <span class=\"title class_\">Math</span>.<span class=\"title function_\">sin</span>(minute), <span class=\"string\">&#x27;#000&#x27;</span>, <span class=\"number\">5</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"title function_\">drawLine</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>, r_s * <span class=\"title class_\">Math</span>.<span class=\"title function_\">cos</span>(second), r_s * <span class=\"title class_\">Math</span>.<span class=\"title function_\">sin</span>(second), <span class=\"string\">&#x27;red&#x27;</span>, <span class=\"number\">2</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"comment\">//画数字</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">1</span>; i &lt;= <span class=\"number\">12</span>; i++) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"keyword\">let</span> t = (deg / <span class=\"number\">12</span>) * i - deg / <span class=\"number\">4</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"keyword\">let</span> x = r_t * <span class=\"title class_\">Math</span>.<span class=\"title function_\">cos</span>(t)</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"keyword\">let</span> y = r_t * <span class=\"title class_\">Math</span>.<span class=\"title function_\">sin</span>(t)</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"title function_\">drawText</span>(i, x, y)</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"comment\">//画刻度</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">1</span>; i &lt;= <span class=\"number\">60</span>; i++) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"keyword\">let</span> t = (deg / <span class=\"number\">60</span>) * i</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"keyword\">let</span> x1 = r * <span class=\"title class_\">Math</span>.<span class=\"title function_\">cos</span>(t)</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"keyword\">let</span> y1 = r * <span class=\"title class_\">Math</span>.<span class=\"title function_\">sin</span>(t)</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"comment\">//判断是否整点</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"keyword\">if</span> (i % <span class=\"number\">5</span> === <span class=\"number\">0</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    <span class=\"keyword\">let</span> x2 = r_squ * <span class=\"title class_\">Math</span>.<span class=\"title function_\">cos</span>(t)</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    <span class=\"keyword\">let</span> y2 = r_squ * <span class=\"title class_\">Math</span>.<span class=\"title function_\">sin</span>(t)</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    <span class=\"title function_\">drawLine</span>(x1, y1, x2, y2, <span class=\"string\">&#x27;#999&#x27;</span>, <span class=\"number\">3</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\">                &#125; <span class=\"keyword\">else</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    <span class=\"keyword\">let</span> x2 = (r_squ + <span class=\"number\">3</span>) * <span class=\"title class_\">Math</span>.<span class=\"title function_\">cos</span>(t)</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    <span class=\"keyword\">let</span> y2 = (r_squ + <span class=\"number\">3</span>) * <span class=\"title class_\">Math</span>.<span class=\"title function_\">sin</span>(t)</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    <span class=\"title function_\">drawLine</span>(x1, y1, x2, y2, <span class=\"string\">&#x27;#ddd&#x27;</span>, <span class=\"number\">2</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\">                &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">// 画文字</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">function</span> <span class=\"title function_\">drawText</span>(<span class=\"params\">text, x, y, font = <span class=\"string\">&#x27;20px 微软雅黑&#x27;</span></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            ctx.<span class=\"property\">font</span> = font</span></span><br><span class=\"line\"><span class=\"language-javascript\">            ctx.<span class=\"property\">textAlign</span> = <span class=\"string\">&#x27;center&#x27;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            ctx.<span class=\"property\">textBaseline</span> = <span class=\"string\">&#x27;middle&#x27;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            ctx.<span class=\"title function_\">fillText</span>(text, x, y)</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//画圆</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">function</span> <span class=\"title function_\">drawCircle</span>(<span class=\"params\">x, y, r, color = <span class=\"string\">&#x27;#000&#x27;</span></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            ctx.<span class=\"title function_\">beginPath</span>()</span></span><br><span class=\"line\"><span class=\"language-javascript\">            ctx.<span class=\"title function_\">arc</span>(x, y, r, <span class=\"number\">0</span>, <span class=\"title class_\">Math</span>.<span class=\"property\">PI</span> * <span class=\"number\">2</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\">            ctx.<span class=\"property\">fillStyle</span> = color</span></span><br><span class=\"line\"><span class=\"language-javascript\">            ctx.<span class=\"title function_\">fill</span>()</span></span><br><span class=\"line\"><span class=\"language-javascript\">            ctx.<span class=\"title function_\">closePath</span>()</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//画线</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">function</span> <span class=\"title function_\">drawLine</span>(<span class=\"params\">x1, y1, x2, y2, color = <span class=\"string\">&#x27;black&#x27;</span>, width</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            ctx.<span class=\"title function_\">beginPath</span>()</span></span><br><span class=\"line\"><span class=\"language-javascript\">            ctx.<span class=\"title function_\">moveTo</span>(x1, y1)</span></span><br><span class=\"line\"><span class=\"language-javascript\">            ctx.<span class=\"title function_\">lineTo</span>(x2, y2)</span></span><br><span class=\"line\"><span class=\"language-javascript\">            ctx.<span class=\"property\">strokeStyle</span> = color</span></span><br><span class=\"line\"><span class=\"language-javascript\">            ctx.<span class=\"property\">lineWidth</span> = width</span></span><br><span class=\"line\"><span class=\"language-javascript\">            ctx.<span class=\"property\">lineCap</span> = <span class=\"string\">&#x27;round&#x27;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            ctx.<span class=\"title function_\">stroke</span>()</span></span><br><span class=\"line\"><span class=\"language-javascript\">            ctx.<span class=\"title function_\">closePath</span>()</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n",
            "tags": [
                "canvas"
            ]
        },
        {
            "id": "http://victinsever.github.io/2022/10/25/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/canvas/%E7%BA%BF%E6%80%A7%E5%B0%8F%E7%90%83%E7%89%B9%E6%95%88/",
            "url": "http://victinsever.github.io/2022/10/25/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/canvas/%E7%BA%BF%E6%80%A7%E5%B0%8F%E7%90%83%E7%89%B9%E6%95%88/",
            "title": "线性小球特效",
            "date_published": "2022-10-25T15:45:07.000Z",
            "content_html": "<h3 id=\"线性小球特效\"><a href=\"#线性小球特效\" class=\"headerlink\" title=\"线性小球特效\"></a>线性小球特效</h3><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">&quot;X-UA-Compatible&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;viewport&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Document<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        * &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin</span>: <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">padding</span>: <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">    </span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">canvas</span> <span class=\"attr\">width</span>=<span class=\"string\">&quot;500px&quot;</span> <span class=\"attr\">height</span>=<span class=\"string\">&quot;500px&quot;</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;canvas&quot;</span>&gt;</span></span><br><span class=\"line\">        您的浏览器版本过低，不支持canvas功能</span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">canvas</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">let</span> canvas = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;canvas&#x27;</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">let</span> ctx = canvas.<span class=\"title function_\">getContext</span>(<span class=\"string\">&#x27;2d&#x27;</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">// 获取屏幕大小</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">let</span> w = <span class=\"variable language_\">document</span>.<span class=\"property\">documentElement</span>.<span class=\"property\">clientWidth</span> - <span class=\"number\">6</span> <span class=\"comment\">//画布大小</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">let</span> h = <span class=\"variable language_\">document</span>.<span class=\"property\">documentElement</span>.<span class=\"property\">clientHeight</span> - <span class=\"number\">6</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//更新宽高</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        canvas.<span class=\"property\">width</span> = w</span></span><br><span class=\"line\"><span class=\"language-javascript\">        canvas.<span class=\"property\">height</span> = h</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">let</span> speed = <span class=\"number\">15</span> <span class=\"comment\">//速度</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">let</span> ballNum = <span class=\"number\">15</span> <span class=\"comment\">//小球个数</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">let</span> lineColor = <span class=\"string\">&#x27;#ccc&#x27;</span> <span class=\"comment\">//线的颜色</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//文字</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">let</span> titleArr = (<span class=\"string\">&quot;JavaScript HTML5前端 JAVA PHP jQuery Canvas&quot;</span> +</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"string\">&quot; CSS CSS3 Angular Bootstrap LayUI 全栈工程师 NodeJS React Vue.js&quot;</span>).<span class=\"title function_\">split</span>(<span class=\"string\">&#x27; &#x27;</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">let</span> ballArr = [] <span class=\"comment\">//小球数组</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; ballNum; i++) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"comment\">// 当前小球</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">let</span> ball = <span class=\"keyword\">new</span> <span class=\"title class_\">Ball</span>(titleArr[i])</span></span><br><span class=\"line\"><span class=\"language-javascript\">            ballArr.<span class=\"title function_\">push</span>(ball)</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"built_in\">setInterval</span>(<span class=\"function\">() =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"comment\">//清除画布</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            ctx.<span class=\"title function_\">clearRect</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>, w, h)</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">for</span>(<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; ballArr.<span class=\"property\">length</span>; i++) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                ballArr[i].<span class=\"title function_\">show</span>()</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"comment\">// 小球连线</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"keyword\">for</span>(<span class=\"keyword\">let</span> j = <span class=\"number\">0</span>; j &lt; i; j++) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    <span class=\"comment\">//取出当前小球前面的小球</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                    <span class=\"keyword\">let</span> preBall = ballArr[j]</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    <span class=\"title function_\">drawLine</span>(ballArr[i].<span class=\"property\">x</span>, ballArr[i].<span class=\"property\">y</span>, preBall.<span class=\"property\">x</span>, preBall.<span class=\"property\">y</span>, lineColor)</span></span><br><span class=\"line\"><span class=\"language-javascript\">                &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;, speed)</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//创建小球类</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">function</span> <span class=\"title function_\">Ball</span>(<span class=\"params\">text</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"variable language_\">this</span>.<span class=\"property\">width</span> = w</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"variable language_\">this</span>.<span class=\"property\">height</span> = h <span class=\"comment\">//盒子宽高</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"variable language_\">this</span>.<span class=\"property\">r</span> = <span class=\"title function_\">r</span>(<span class=\"number\">30</span>) + <span class=\"number\">10</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"variable language_\">this</span>.<span class=\"property\">x</span> = <span class=\"title function_\">r</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">width</span> - <span class=\"number\">2</span> * <span class=\"variable language_\">this</span>.<span class=\"property\">r</span>) + <span class=\"variable language_\">this</span>.<span class=\"property\">r</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"variable language_\">this</span>.<span class=\"property\">y</span> = <span class=\"title function_\">r</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">height</span> - <span class=\"number\">2</span> * <span class=\"variable language_\">this</span>.<span class=\"property\">r</span>) + <span class=\"variable language_\">this</span>.<span class=\"property\">r</span> </span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"variable language_\">this</span>.<span class=\"property\">color</span> = <span class=\"title function_\">rColor2</span>()</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"variable language_\">this</span>.<span class=\"property\">xSpeed</span> = <span class=\"title function_\">r</span>(<span class=\"number\">5</span>) + <span class=\"number\">2</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"variable language_\">this</span>.<span class=\"property\">ySpeed</span> = <span class=\"title function_\">r</span>(<span class=\"number\">3</span>) + <span class=\"number\">1</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"variable language_\">this</span>.<span class=\"property\">text</span> = text</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"title class_\">Ball</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">show</span> = <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"variable language_\">this</span>.<span class=\"title function_\">run</span>()</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"title function_\">drawCircle</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">x</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">y</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">r</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">color</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"title function_\">drawText</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">text</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">x</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">r</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">y</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"title class_\">Ball</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">run</span> = <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">if</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">x</span> - <span class=\"variable language_\">this</span>.<span class=\"property\">r</span> &lt;= <span class=\"number\">0</span> || <span class=\"variable language_\">this</span>.<span class=\"property\">x</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">r</span> &gt;= <span class=\"variable language_\">this</span>.<span class=\"property\">width</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"variable language_\">this</span>.<span class=\"property\">xSpeed</span> = -<span class=\"variable language_\">this</span>.<span class=\"property\">xSpeed</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125; </span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"variable language_\">this</span>.<span class=\"property\">x</span> += <span class=\"variable language_\">this</span>.<span class=\"property\">xSpeed</span>            </span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">if</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">y</span> - <span class=\"variable language_\">this</span>.<span class=\"property\">r</span> &lt;= <span class=\"number\">0</span> || <span class=\"variable language_\">this</span>.<span class=\"property\">y</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">r</span> &gt;= <span class=\"variable language_\">this</span>.<span class=\"property\">height</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"variable language_\">this</span>.<span class=\"property\">ySpeed</span> = -<span class=\"variable language_\">this</span>.<span class=\"property\">ySpeed</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;                    </span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"variable language_\">this</span>.<span class=\"property\">y</span> += <span class=\"variable language_\">this</span>.<span class=\"property\">ySpeed</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">// 随机颜色2：rgb</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">function</span> <span class=\"title function_\">rColor2</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">return</span> <span class=\"string\">&#x27;rgb(&#x27;</span> + <span class=\"title function_\">r</span>(<span class=\"number\">255</span>) + <span class=\"string\">&#x27;,&#x27;</span> + <span class=\"title function_\">r</span>(<span class=\"number\">255</span>) + <span class=\"string\">&#x27;,&#x27;</span> + <span class=\"title function_\">r</span>(<span class=\"number\">255</span>) + <span class=\"string\">&#x27;)&#x27;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">// 随机颜色#ffffff</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">function</span> <span class=\"title function_\">rColor</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">return</span> <span class=\"string\">&#x27;#&#x27;</span> + <span class=\"built_in\">parseInt</span>(<span class=\"title class_\">Math</span>.<span class=\"title function_\">random</span>() * <span class=\"number\">0xffffff</span>).<span class=\"title function_\">toString</span>(<span class=\"number\">16</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">// 随机数字</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">function</span> <span class=\"title function_\">r</span>(<span class=\"params\">num</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">return</span> <span class=\"built_in\">parseInt</span>(<span class=\"title class_\">Math</span>.<span class=\"title function_\">random</span>() * num)</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">// 画文字</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">function</span> <span class=\"title function_\">drawText</span>(<span class=\"params\">text, x, y, font = <span class=\"string\">&#x27;20px 微软雅黑&#x27;</span></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            ctx.<span class=\"property\">font</span> = font</span></span><br><span class=\"line\"><span class=\"language-javascript\">            ctx.<span class=\"property\">textAlign</span> = <span class=\"string\">&#x27;top&#x27;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            ctx.<span class=\"property\">textBaseline</span> = <span class=\"string\">&#x27;middle&#x27;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            ctx.<span class=\"title function_\">fillText</span>(text, x, y)</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        </span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//画圆</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">function</span> <span class=\"title function_\">drawCircle</span>(<span class=\"params\">x, y, r, color = <span class=\"string\">&#x27;#000&#x27;</span></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            ctx.<span class=\"title function_\">beginPath</span>()</span></span><br><span class=\"line\"><span class=\"language-javascript\">            ctx.<span class=\"title function_\">arc</span>(x, y, r, <span class=\"number\">0</span>, <span class=\"title class_\">Math</span>.<span class=\"property\">PI</span> * <span class=\"number\">2</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\">            ctx.<span class=\"property\">fillStyle</span> = color</span></span><br><span class=\"line\"><span class=\"language-javascript\">            ctx.<span class=\"title function_\">fill</span>()</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//画线</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">function</span> <span class=\"title function_\">drawLine</span>(<span class=\"params\">x1, y1, x2, y2, color = <span class=\"string\">&#x27;black&#x27;</span></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            ctx.<span class=\"title function_\">beginPath</span>()</span></span><br><span class=\"line\"><span class=\"language-javascript\">            ctx.<span class=\"title function_\">moveTo</span>(x1, y1)</span></span><br><span class=\"line\"><span class=\"language-javascript\">            ctx.<span class=\"title function_\">lineTo</span>(x2, y2)</span></span><br><span class=\"line\"><span class=\"language-javascript\">            ctx.<span class=\"property\">strokeStyle</span> = color</span></span><br><span class=\"line\"><span class=\"language-javascript\">            ctx.<span class=\"title function_\">stroke</span>()</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n",
            "tags": [
                "canvas"
            ]
        }
    ]
}